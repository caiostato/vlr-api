generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}


model Player {
  externalId String @id 
  playerId    Int @unique 

  name  String
  alias  String
  imageUrl String
  role  String
  type  String

  team  Team?  @relation(fields: [teamId], references: [externalId])
  teamId String?

  currentScore Int @default(0) 
  previousScore Int @default(0) 
  oldScore Int @default(0) 
}

model Match {
  externalId String @id
  matchId    Int    @unique
  match      Int    @unique
  status     String
  teams      Team[] // many-to-many implicitly
}

model Team {
  externalId String @id
  teamId     Int    @unique
  name       String
  logo       String
  players    Player[]
  matches    Match[] // many-to-many implicitly
}